#VRML V2.0 utf8

WorldInfo {
  title "Double Inverted Pendulum - Track Only"
}
NavigationInfo {
  type [
    "EXAMINE" 
    "ANY" 
  ]
}
Background {
  skyColor 1 1 1
}
Viewpoint {
  description "Wide"
  position 0 3 10
  orientation 1 0 0 -0.30
}
DirectionalLight {
  intensity 0.8
  direction -0.2 -1 -0.2
}
PointLight {
  location 0 3 6
  intensity 0.35
}
# materiały
DEF MAT_TRACK Material {
  emissiveColor 0.35 0.35 0.35
  diffuseColor 0.35 0.35 0.35
}
DEF MAT_CART Material {
  specularColor 0.4 0.4 0.4
  shininess 0.25
  diffuseColor 0.15 0.25 0.75
}
DEF MAT_CART2 Material {
  specularColor 0.4 0.4 0.4
  shininess 0.25
  diffuseColor 0.25 0.35 0.85
}
DEF MAT_WHEEL Material {
  diffuseColor 0.12 0.12 0.12
}
DEF MAT_AXLE Material {
  specularColor 0.5 0.5 0.5
  shininess 0.35
  diffuseColor 0.45 0.45 0.45
}
DEF MAT_LINK1 Material {
  diffuseColor 0.85 0.25 0.25
}
DEF MAT_LINK2 Material {
  diffuseColor 0.25 0.75 0.25
}
# tor jako linia + kreski co 1 jednostkę (od -10 do 10)
DEF TRACK Transform {
  children Shape {
    appearance Appearance {
      material 
        USE MAT_TRACK
    }
    geometry IndexedLineSet {
      # główna linia
      coordIndex [
        0, 1, -1, 
        2, 3, -1, 
        4, 5, -1, 
        6, 7, -1, 
        8, 9, -1, 
        10, 11, -1, 
        12, 13, -1, 
        14, 15, -1, 
        16, 17, -1, 
        18, 19, -1, 
        20, 21, -1, 
        22, 23, -1, 
        24, 25, -1, 
        26, 27, -1, 
        28, 29, -1, 
        30, 31, -1, 
        32, 33, -1, 
        34, 35, -1, 
        36, 37, -1, 
        38, 39, -1, 
        40, 41, -1 
      ]
      coord Coordinate {
        # główna linia toru (oś X)
        # kreski podziałki (x = -10..10)
        point [
          -20 0 0,
          20 0 0,
          -10 0 -0.1,
          -10 0 0.1,
          -9 0 -0.1,
          -9 0 0.1,
          -8 0 -0.1,
          -8 0 0.1,
          -7 0 -0.1,
          -7 0 0.1,
          -6 0 -0.1,
          -6 0 0.1,
          -5 0 -0.12,
          -5 0 0.12,
          -4 0 -0.1,
          -4 0 0.1,
          -3 0 -0.1,
          -3 0 0.1,
          -2 0 -0.1,
          -2 0 0.1,
          -1 0 -0.1,
          -1 0 0.1,
          0 0 -0.14,
          0 0 0.14,
          1 0 -0.1,
          1 0 0.1,
          2 0 -0.1,
          2 0 0.1,
          3 0 -0.1,
          3 0 0.1,
          4 0 -0.1,
          4 0 0.1,
          5 0 -0.12,
          5 0 0.12,
          6 0 -0.1,
          6 0 0.1,
          7 0 -0.1,
          7 0 0.1,
          8 0 -0.1,
          8 0 0.1,
          9 0 -0.1,
          9 0 0.1,
          10 0 -0.1,
          10 0 0.1 
        ]
      }
    }
  }
}
# część dynamiczna (mapowania)
DEF CART_TX Transform {
  translation 0 0.16 0
  children [
    Transform {
      children 
      # kształty (ładniejszy wózek)
      DEF SHAPE_CHASSIS Shape {
        appearance Appearance {
          material USE MAT_CART
        }
        geometry Box {
          size 0.47 0.107 0.227
        }
      }
    }
    Transform {
      translation 0 0.074 0
      children DEF SHAPE_TOP Shape {
        appearance Appearance {
          material USE MAT_CART2
        }
        geometry Box {
          size 0.413 0.093 0.187
        }
      }
    }
    Transform {
      translation 0.20 -0.05 0.12
      rotation 1 0 0 1.570796
      children DEF SHAPE_WHEEL Shape {
        appearance Appearance {
          material USE MAT_WHEEL
        }
        geometry Cylinder {
         radius 0.04 
         height 0.027
        }
      }
    }
    Transform {
      translation -0.20 -0.05 0.12
      rotation 1 0 0 1.570796
      children USE SHAPE_WHEEL
    }
    Transform {
      translation 0.20 -0.05 -0.12
      rotation 1 0 0 1.570796
      children USE SHAPE_WHEEL
    }
    Transform {
      translation -0.20 -0.05 -0.12
      rotation 1 0 0 1.570796
      children USE SHAPE_WHEEL
    }
    Transform {
      translation 0.20 -0.05 0
      rotation 1 0 0 1.570796
      children DEF SHAPE_AXLE Shape {
        appearance Appearance {
          material USE MAT_AXLE
        }
        geometry Cylinder {
          radius 0.0067 
          height 0.267
        }
      }
    }
    Transform {
      translation -0.20 -0.05 0
      rotation 1 0 0 1.570796
      children USE SHAPE_AXLE
    }
    Transform {
      translation 0 0.0 0.14
      children DEF LINK1_ROT Transform {
        children [
          Transform {
            translation 0 0.5 0
            children DEF SHAPE_LINK1 Shape {
              appearance Appearance {
                material USE MAT_LINK1
              }
              geometry Cylinder {
                radius 0.03
                height 1
              }
            }
          }
          Transform {
            translation 0 1 0
            children DEF LINK2_ROT Transform {
              children Transform {
                translation 0 0.5 0
                children DEF SHAPE_LINK2 Shape {
                  appearance Appearance {
                    material USE MAT_LINK2
                  }
                  geometry Cylinder {
                    radius 0.025
                    height 1
                  }
                }
              }
            }
          }
        ]
      }
    }
  ]
}